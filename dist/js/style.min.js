"use strict";var firstImg=document.querySelector(".main__img"),username=document.querySelector(".main__username"),likes=document.querySelector(".likes"),nextBtn=document.querySelector(".fa-arrow-right"),main=document.querySelector(".main"),input=document.querySelector(".main__input"),followBtn=document.querySelector(".main__follow"),usernames=[],messages=["Giga","W","Nice","Look good","Bomba"],commentsBox=document.querySelector(".main__mid"),commentBtn=document.querySelector(".fa-comment"),btn=document.querySelectorAll(".main__btn--canactivate"),request=fetch("https://randomuser.me/api/?results=25").then(function(e){return e.json()}).then(function(e){for(var t=0;t<25;t++)usernames.push(e.results[t].name.first);createImage(),setLikes(),createComments()}),photoSize=750,avatarSize=50,clickable=0,following=0,orderOfComment=1,createImage=function(){var e=Math.floor(24*Math.random());firstImg.setAttribute("src","https://random.imagecdn.app/".concat(photoSize++,"/").concat(photoSize++)),username.textContent=usernames[e]},setLikes=function(){var e=Math.floor(1e5*Math.random()+100);likes.textContent=e},createComments=function(){for(var e=Math.floor(10*Math.random()+1),t=0;t<e;t++){var n=Math.floor(Math.random()*messages.length),o=Math.floor(24*Math.random()),a=document.createElement("div"),c=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),m=document.createElement("div"),l=document.createElement("p"),d=document.createElement("p"),r=document.createElement("img");a.classList.add("comment"),c.classList.add("comment__left"),s.classList.add("comment__right"),i.classList.add("comment__top"),m.classList.add("comment__bottom"),l.classList.add("comment__nickname"),d.classList.add("comment__content"),r.classList.add("comment__img"),d.textContent=messages[n],m.appendChild(d),l.textContent=usernames[o],i.appendChild(l),s.append(i,m),r.setAttribute("alt","Profile Avatar"),r.setAttribute("src","https://random.imagecdn.app/".concat(avatarSize++,"/").concat(avatarSize++)),c.appendChild(r),a.append(c,s),commentsBox.append(a)}},createUserComment=function(){var e,t,n,o,a,c,s,i;0<input.value.length&&(e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),c=document.createElement("p"),s=document.createElement("p"),i=document.createElement("img"),e.classList.add("comment"),t.classList.add("comment__left"),n.classList.add("comment__right"),o.classList.add("comment__top"),a.classList.add("comment__bottom"),c.classList.add("comment__nickname"),s.classList.add("comment__content"),i.classList.add("comment__img"),s.textContent=input.value,a.appendChild(s),c.textContent="You",o.appendChild(c),n.append(o,a),i.setAttribute("alt","Profile Avatar"),i.setAttribute("src","./dist/img/avatar.png"),t.appendChild(i),e.append(t,n),commentsBox.append(e),e.style.order="-".concat(orderOfComment++),input.value="")},activateBtn=function(){btn.classlist.add("is-active-btn")},toggleFollow=function(){0===following?(following=1,followBtn.textContent="Following"):1===following&&(following=0,followBtn.textContent="Follow")};btn.forEach(function(e){e.addEventListener("click",function(){e.classList.toggle("is-active-btn"),e.classList.contains("is-active-btn")?0===parseInt(e.id)&&(likes.textContent=parseInt(likes.textContent)+1):0===parseInt(e.id)&&(likes.textContent=parseInt(likes.textContent)-1)})}),nextBtn.addEventListener("click",function(){0===clickable&&(clickable=1,main.classList.toggle("slide-out"),main.classList.toggle("slide-in"),setTimeout(function(){createImage(),setLikes(),commentsBox.innerHTML="",createComments(),main.classList.toggle("slide-out"),main.classList.toggle("slide-in"),clickable=0},1e3))}),document.addEventListener("keydown",function(e){!e.isComposing&&39!==e.keyCode||0!==clickable||(clickable=1,main.classList.toggle("slide-out"),main.classList.toggle("slide-in"),setTimeout(function(){createImage(),setLikes(),commentsBox.innerHTML="",createComments(),main.classList.toggle("slide-out"),main.classList.toggle("slide-in"),clickable=0},1e3))}),document.addEventListener("keydown",function(e){!e.isComposing&&13!==e.keyCode||createUserComment()}),followBtn.addEventListener("click",toggleFollow),commentBtn.addEventListener("click",function(){input.focus()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0eWxlLmpzIl0sIm5hbWVzIjpbImZpcnN0SW1nIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidXNlcm5hbWUiLCJsaWtlcyIsIm5leHRCdG4iLCJtYWluIiwiaW5wdXQiLCJmb2xsb3dCdG4iLCJ1c2VybmFtZXMiLCJtZXNzYWdlcyIsImNvbW1lbnRzQm94IiwiY29tbWVudEJ0biIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwicXVlcnlTZWxlY3RvckFsbCIsInJlcXVlc3QiLCJqc29uIiwiaSIsInB1c2giLCJyZXN1bHQiLCJyZXN1bHRzIiwibmFtZSIsImZpcnN0IiwiY3JlYXRlSW1hZ2UiLCJzZXRMaWtlcyIsImNyZWF0ZUNvbW1lbnRzIiwiYXZhdGFyU2l6ZSIsInBob3RvU2l6ZSIsImNsaWNrYWJsZSIsIm9yZGVyT2ZDb21tZW50IiwiTWF0aCIsImZsb29yIiwicmFuZG9tTnVtIiwiY29uY2F0IiwiY3JlYXRlRWxlbWVudCIsImNvbW1lbnRSaWdodCIsImNvbW1lbnRUb3AiLCJsZW5ndGgiLCJjb21tZW50Qm90dG9tIiwiY29tbWVudE5pY2tuYW1lIiwiY29tbWVudENvbnRlbnQiLCJjb21tZW50QXZhdGFyIiwiY29tbWVudEJveCIsImNsYXNzTGlzdCIsImNvbW1lbnRMZWZ0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsIm5pY2tOdW1iZXIiLCJtc2dOdW1iZXIiLCJhcHBlbmQiLCJjcmVhdGVVc2VyQ29tbWVudCIsInZhbHVlIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJhY3RpdmF0ZUJ0biIsImJ0biIsInRvZ2dsZUZvbGxvdyIsIm9yZGVyIiwiZm9yRWFjaCIsInBhcnNlSW50IiwiY2xhc3NsaXN0IiwiZm9sbG93aW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW0iLCJ0b2dnbGUiLCJzZXRUaW1lb3V0IiwiaWQiLCJldmVudCIsImtleUNvZGUiLCJpbm5lckhUTUwiLCJpc0NvbXBvc2luZyIsImZvY3VzIl0s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S0F1QkR1QyxVQUFBc0IsT0FBQSxXQUFBLEVBQ0Q3RCxLQUFBdUMsVUFBQXNCLE9BQUEsVUFBQSxFQUNDckMsVUFBQSxDQUVGN0IsRUFBQUEsR0FBU2dFLEVBdEJULENBQUMsRUEwQkRoRSxTQUFFZ0UsaUJBQUEsVUFBQSxTQUFBSyxHQUVGOUQsQ0FBQUEsRUFBVXlELGFBQTBCTixLQUFWVyxFQUFDQyxTQUVoQk4sSUFBWHJELFlBQ0NMLFVBQWEsRUFDWkQsS0FBQXVDLFVBQUFzQixPQUFBLFdBQUEsRUF6QkM3RCxLQUFLdUMsVUFBVXNCLE9BQU8sVUFBVSxFQUVoQ0MsV0FBVyxXQUNWM0MsWUFBWSxFQUNaQyxTQUFTLEVBQ1RmLFlBQVk2RCxVQUFZLEdBQ3hCN0MsZUFBZSxFQUNmckIsS0FBS3VDLFVBQVVzQixPQUFPLFdBQVcsRUFDakM3RCxLQUFLdUMsVUFBVXNCLE9BQU8sVUFBVSxFQUNoQ3JDLFVBQVksQ0FDYixFQUFHLEdBQUksRUFHVixDQUFDLEVBRUQ3QixTQUFTZ0UsaUJBQWlCLFVBQVcsU0FBQ0ssR0FDakNBLENBQUFBLEVBQU1HLGFBQWlDLEtBQWxCSCxFQUFNQyxTQUM5QmxCLGtCQUFrQixDQUVwQixDQUFDLEVBRUQ3QyxVQUFVeUQsaUJBQWlCLFFBQVNOLFlBQVksRUFFaEQvQyxXQUFXcUQsaUJBQWlCLFFBQVMsV0FDcEMxRCxNQUFNbUUsTUFBTSxDQUNiLENBQUMiLCJmaWxlIjoic3R5bGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZmlyc3RJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5fX2ltZ1wiKTtcclxuY29uc3QgdXNlcm5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5fX3VzZXJuYW1lXCIpO1xyXG5jb25zdCBsaWtlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlrZXNcIik7XHJcbmNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhLWFycm93LXJpZ2h0XCIpO1xyXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xyXG5jb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbl9faW5wdXRcIik7XHJcbmNvbnN0IGZvbGxvd0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbl9fZm9sbG93XCIpO1xyXG5jb25zdCB1c2VybmFtZXMgPSBbXTtcclxuY29uc3QgbWVzc2FnZXMgPSBbXCJHaWdhXCIsIFwiV1wiLCBcIk5pY2VcIiwgXCJMb29rIGdvb2RcIiwgXCJCb21iYVwiXTtcclxuY29uc3QgY29tbWVudHNCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5fX21pZFwiKTtcclxuY29uc3QgY29tbWVudEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmEtY29tbWVudFwiKTtcclxuY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluX19idG4tLWNhbmFjdGl2YXRlXCIpO1xyXG5jb25zdCByZXF1ZXN0ID0gZmV0Y2goXCJodHRwczovL3JhbmRvbXVzZXIubWUvYXBpLz9yZXN1bHRzPTI1XCIpXHJcblx0LnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0LnRoZW4oKHJlc3VsdCkgPT4ge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAyNTsgaSsrKSB7XHJcblx0XHRcdHVzZXJuYW1lcy5wdXNoKHJlc3VsdC5yZXN1bHRzW2ldLm5hbWUuZmlyc3QpO1xyXG5cdFx0fVxyXG5cdFx0Y3JlYXRlSW1hZ2UoKTtcclxuXHRcdHNldExpa2VzKCk7XHJcblx0XHRjcmVhdGVDb21tZW50cygpO1xyXG5cdH0pO1xyXG5sZXQgcGhvdG9TaXplID0gNzUwO1xyXG5sZXQgYXZhdGFyU2l6ZSA9IDUwO1xyXG5sZXQgY2xpY2thYmxlID0gMDtcclxubGV0IGZvbGxvd2luZyA9IDA7XHJcbmxldCBvcmRlck9mQ29tbWVudCA9IDE7XHJcblxyXG5jb25zdCBjcmVhdGVJbWFnZSA9ICgpID0+IHtcclxuXHRjb25zdCByYW5kb21OdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNCk7XHJcblx0Zmlyc3RJbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJzcmNcIixcclxuXHRcdGBodHRwczovL3JhbmRvbS5pbWFnZWNkbi5hcHAvJHtwaG90b1NpemUrK30vJHtwaG90b1NpemUrK31gXHJcblx0KTtcclxuXHR1c2VybmFtZS50ZXh0Q29udGVudCA9IHVzZXJuYW1lc1tyYW5kb21OdW1dO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0TGlrZXMgPSAoKSA9PiB7XHJcblx0Y29uc3QgcmFuZG9tTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwICsgMTAwKTtcclxuXHRsaWtlcy50ZXh0Q29udGVudCA9IHJhbmRvbU51bTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNvbW1lbnRzID0gKCkgPT4ge1xyXG5cdGNvbnN0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwICsgMSk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZG9tTnVtOyBpKyspIHtcclxuXHRcdGNvbnN0IG1zZ051bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1lc3NhZ2VzLmxlbmd0aCk7XHJcblx0XHRjb25zdCBuaWNrTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjQpO1xyXG5cdFx0Y29uc3QgY29tbWVudEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBjb21tZW50TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBjb21tZW50UmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgY29tbWVudFRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBjb21tZW50Qm90dG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGNvbW1lbnROaWNrbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgY29tbWVudENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGNvbW1lbnRBdmF0YXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29tbWVudEJveC5jbGFzc0xpc3QuYWRkKFwiY29tbWVudFwiKTtcclxuXHRcdGNvbW1lbnRMZWZ0LmNsYXNzTGlzdC5hZGQoXCJjb21tZW50X19sZWZ0XCIpO1xyXG5cdFx0Y29tbWVudFJpZ2h0LmNsYXNzTGlzdC5hZGQoXCJjb21tZW50X19yaWdodFwiKTtcclxuXHRcdGNvbW1lbnRUb3AuY2xhc3NMaXN0LmFkZChcImNvbW1lbnRfX3RvcFwiKTtcclxuXHRcdGNvbW1lbnRCb3R0b20uY2xhc3NMaXN0LmFkZChcImNvbW1lbnRfX2JvdHRvbVwiKTtcclxuXHRcdGNvbW1lbnROaWNrbmFtZS5jbGFzc0xpc3QuYWRkKFwiY29tbWVudF9fbmlja25hbWVcIik7XHJcblx0XHRjb21tZW50Q29udGVudC5jbGFzc0xpc3QuYWRkKFwiY29tbWVudF9fY29udGVudFwiKTtcclxuXHRcdGNvbW1lbnRBdmF0YXIuY2xhc3NMaXN0LmFkZChcImNvbW1lbnRfX2ltZ1wiKTtcclxuXHJcblx0XHRjb21tZW50Q29udGVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2VzW21zZ051bWJlcl07XHJcblx0XHRjb21tZW50Qm90dG9tLmFwcGVuZENoaWxkKGNvbW1lbnRDb250ZW50KTtcclxuXHRcdGNvbW1lbnROaWNrbmFtZS50ZXh0Q29udGVudCA9IHVzZXJuYW1lc1tuaWNrTnVtYmVyXTtcclxuXHRcdGNvbW1lbnRUb3AuYXBwZW5kQ2hpbGQoY29tbWVudE5pY2tuYW1lKTtcclxuXHRcdGNvbW1lbnRSaWdodC5hcHBlbmQoY29tbWVudFRvcCwgY29tbWVudEJvdHRvbSk7XHJcblxyXG5cdFx0Y29tbWVudEF2YXRhci5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJQcm9maWxlIEF2YXRhclwiKTtcclxuXHRcdGNvbW1lbnRBdmF0YXIuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRgaHR0cHM6Ly9yYW5kb20uaW1hZ2VjZG4uYXBwLyR7YXZhdGFyU2l6ZSsrfS8ke2F2YXRhclNpemUrK31gXHJcblx0XHQpO1xyXG5cclxuXHRcdGNvbW1lbnRMZWZ0LmFwcGVuZENoaWxkKGNvbW1lbnRBdmF0YXIpO1xyXG5cdFx0Y29tbWVudEJveC5hcHBlbmQoY29tbWVudExlZnQsIGNvbW1lbnRSaWdodCk7XHJcblx0XHRjb21tZW50c0JveC5hcHBlbmQoY29tbWVudEJveCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVXNlckNvbW1lbnQgPSAoKSA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA+IDApIHtcclxuXHRcdGNvbnN0IGNvbW1lbnRCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgY29tbWVudExlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgY29tbWVudFJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGNvbW1lbnRUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgY29tbWVudEJvdHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBjb21tZW50Tmlja25hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGNvbW1lbnRDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBjb21tZW50QXZhdGFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbW1lbnRCb3guY2xhc3NMaXN0LmFkZChcImNvbW1lbnRcIik7XHJcblx0XHRjb21tZW50TGVmdC5jbGFzc0xpc3QuYWRkKFwiY29tbWVudF9fbGVmdFwiKTtcclxuXHRcdGNvbW1lbnRSaWdodC5jbGFzc0xpc3QuYWRkKFwiY29tbWVudF9fcmlnaHRcIik7XHJcblx0XHRjb21tZW50VG9wLmNsYXNzTGlzdC5hZGQoXCJjb21tZW50X190b3BcIik7XHJcblx0XHRjb21tZW50Qm90dG9tLmNsYXNzTGlzdC5hZGQoXCJjb21tZW50X19ib3R0b21cIik7XHJcblx0XHRjb21tZW50Tmlja25hbWUuY2xhc3NMaXN0LmFkZChcImNvbW1lbnRfX25pY2tuYW1lXCIpO1xyXG5cdFx0Y29tbWVudENvbnRlbnQuY2xhc3NMaXN0LmFkZChcImNvbW1lbnRfX2NvbnRlbnRcIik7XHJcblx0XHRjb21tZW50QXZhdGFyLmNsYXNzTGlzdC5hZGQoXCJjb21tZW50X19pbWdcIik7XHJcblxyXG5cdFx0Y29tbWVudENvbnRlbnQudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTtcclxuXHRcdGNvbW1lbnRCb3R0b20uYXBwZW5kQ2hpbGQoY29tbWVudENvbnRlbnQpO1xyXG5cdFx0Y29tbWVudE5pY2tuYW1lLnRleHRDb250ZW50ID0gXCJZb3VcIjtcclxuXHRcdGNvbW1lbnRUb3AuYXBwZW5kQ2hpbGQoY29tbWVudE5pY2tuYW1lKTtcclxuXHRcdGNvbW1lbnRSaWdodC5hcHBlbmQoY29tbWVudFRvcCwgY29tbWVudEJvdHRvbSk7XHJcblxyXG5cdFx0Y29tbWVudEF2YXRhci5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJQcm9maWxlIEF2YXRhclwiKTtcclxuXHRcdGNvbW1lbnRBdmF0YXIuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9kaXN0L2ltZy9hdmF0YXIucG5nXCIpO1xyXG5cclxuXHRcdGNvbW1lbnRMZWZ0LmFwcGVuZENoaWxkKGNvbW1lbnRBdmF0YXIpO1xyXG5cdFx0Y29tbWVudEJveC5hcHBlbmQoY29tbWVudExlZnQsIGNvbW1lbnRSaWdodCk7XHJcblx0XHRjb21tZW50c0JveC5hcHBlbmQoY29tbWVudEJveCk7XHJcblx0XHRjb21tZW50Qm94LnN0eWxlLm9yZGVyID0gYC0ke29yZGVyT2ZDb21tZW50Kyt9YDtcclxuXHRcdGlucHV0LnZhbHVlID0gXCJcIjtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBhY3RpdmF0ZUJ0biA9ICgpID0+IHtcclxuXHRidG4uY2xhc3NsaXN0LmFkZChcImlzLWFjdGl2ZS1idG5cIik7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVGb2xsb3cgPSAoKSA9PiB7XHJcblx0aWYgKGZvbGxvd2luZyA9PT0gMCkge1xyXG5cdFx0Zm9sbG93aW5nID0gMTtcclxuXHRcdGZvbGxvd0J0bi50ZXh0Q29udGVudCA9IFwiRm9sbG93aW5nXCI7XHJcblx0fSBlbHNlIGlmIChmb2xsb3dpbmcgPT09IDEpIHtcclxuXHRcdGZvbGxvd2luZyA9IDA7XHJcblx0XHRmb2xsb3dCdG4udGV4dENvbnRlbnQgPSBcIkZvbGxvd1wiO1xyXG5cdH1cclxufTtcclxuXHJcbmJ0bi5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtYWN0aXZlLWJ0blwiKTtcclxuXHJcblx0XHRpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1hY3RpdmUtYnRuXCIpKSB7XHJcblx0XHRcdHN3aXRjaCAocGFyc2VJbnQoaXRlbS5pZCkpIHtcclxuXHRcdFx0XHRjYXNlIDA6XHJcblx0XHRcdFx0XHRsaWtlcy50ZXh0Q29udGVudCA9IHBhcnNlSW50KGxpa2VzLnRleHRDb250ZW50KSArIDE7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3dpdGNoIChwYXJzZUludChpdGVtLmlkKSkge1xyXG5cdFx0XHRcdGNhc2UgMDpcclxuXHRcdFx0XHRcdGxpa2VzLnRleHRDb250ZW50ID0gcGFyc2VJbnQobGlrZXMudGV4dENvbnRlbnQpIC0gMTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcbn0pO1xyXG5cclxubmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChjbGlja2FibGUgPT09IDApIHtcclxuXHRcdGNsaWNrYWJsZSA9IDE7XHJcblx0XHRtYWluLmNsYXNzTGlzdC50b2dnbGUoXCJzbGlkZS1vdXRcIik7XHJcblx0XHRtYWluLmNsYXNzTGlzdC50b2dnbGUoXCJzbGlkZS1pblwiKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0Y3JlYXRlSW1hZ2UoKTtcclxuXHRcdFx0c2V0TGlrZXMoKTtcclxuXHRcdFx0Y29tbWVudHNCb3guaW5uZXJIVE1MID0gXCJcIjtcclxuXHRcdFx0Y3JlYXRlQ29tbWVudHMoKTtcclxuXHRcdFx0bWFpbi5jbGFzc0xpc3QudG9nZ2xlKFwic2xpZGUtb3V0XCIpO1xyXG5cdFx0XHRtYWluLmNsYXNzTGlzdC50b2dnbGUoXCJzbGlkZS1pblwiKTtcclxuXHRcdFx0Y2xpY2thYmxlID0gMDtcclxuXHRcdH0sIDEwMDApO1xyXG5cdH1cclxufSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuXHRpZiAoZXZlbnQuaXNDb21wb3NpbmcgfHwgZXZlbnQua2V5Q29kZSA9PT0gMzkpIHtcclxuXHRcdGlmIChjbGlja2FibGUgPT09IDApIHtcclxuXHRcdFx0Y2xpY2thYmxlID0gMTtcclxuXHRcdFx0bWFpbi5jbGFzc0xpc3QudG9nZ2xlKFwic2xpZGUtb3V0XCIpO1xyXG5cdFx0XHRtYWluLmNsYXNzTGlzdC50b2dnbGUoXCJzbGlkZS1pblwiKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdGNyZWF0ZUltYWdlKCk7XHJcblx0XHRcdFx0c2V0TGlrZXMoKTtcclxuXHRcdFx0XHRjb21tZW50c0JveC5pbm5lckhUTUwgPSBcIlwiO1xyXG5cdFx0XHRcdGNyZWF0ZUNvbW1lbnRzKCk7XHJcblx0XHRcdFx0bWFpbi5jbGFzc0xpc3QudG9nZ2xlKFwic2xpZGUtb3V0XCIpO1xyXG5cdFx0XHRcdG1haW4uY2xhc3NMaXN0LnRvZ2dsZShcInNsaWRlLWluXCIpO1xyXG5cdFx0XHRcdGNsaWNrYWJsZSA9IDA7XHJcblx0XHRcdH0sIDEwMDApO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuXHRpZiAoZXZlbnQuaXNDb21wb3NpbmcgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuXHRcdGNyZWF0ZVVzZXJDb21tZW50KCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmZvbGxvd0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlRm9sbG93KTtcclxuXHJcbmNvbW1lbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpbnB1dC5mb2N1cygpO1xyXG59KSJdfQ==
